@import "tailwindcss";

/* ─── Font family tokens ─── */
@theme {
  --font-display: 'Nunito', system-ui, sans-serif;
  --font-body: 'Outfit', system-ui, sans-serif;
}

/* ─── THEMES ─── */
:root,
[data-theme="summer"] {
  --bg: #EFF5FA;
  --surface: #FFFFFF;
  --surface-hover: #F5F8FB;
  --text: #1A2744;
  --text-secondary: #475569;
  --text-muted: #94A3B8;
  --border: #DAE3ED;
  --accent: #4A8AB8;
  --accent-hover: #3A7AA8;
  --accent-light: rgba(74, 138, 184, 0.08);
  --shadow: rgba(74, 138, 184, 0.12);
  --correct: #16A34A;
  --correct-bg: rgba(22, 163, 74, 0.08);
  --incorrect: #DC2626;
  --incorrect-bg: rgba(220, 38, 38, 0.08);
  --p1: #DBEEF5;
  --p2: #BFD4ED;
  --p3: #F7E5D0;
  --p4: #F7F0E7;
  --map-bg: #D8E8F0;
}

[data-theme="lavender"] {
  --bg: #F0EDFF;
  --surface: #FFFFFF;
  --surface-hover: #F7F5FF;
  --text: #1A2744;
  --text-secondary: #475569;
  --text-muted: #8B8FA0;
  --border: #DDD8F0;
  --accent: #7A6BE6;
  --accent-hover: #6A5BD6;
  --accent-light: rgba(122, 107, 230, 0.08);
  --shadow: rgba(122, 107, 230, 0.12);
  --correct: #16A34A;
  --correct-bg: rgba(22, 163, 74, 0.08);
  --incorrect: #DC2626;
  --incorrect-bg: rgba(220, 38, 38, 0.08);
  --p1: #DBD5FB;
  --p2: #A49AF7;
  --p3: #B7B9FA;
  --p4: #B3C8FB;
  --map-bg: #D8D0F0;
}

[data-theme="blush"] {
  --bg: #FFF0F7;
  --surface: #FFFFFF;
  --surface-hover: #FFF7FB;
  --text: #2A1A33;
  --text-secondary: #6B5570;
  --text-muted: #A088A8;
  --border: #F0D8E8;
  --accent: #C058A0;
  --accent-hover: #B04890;
  --accent-light: rgba(192, 88, 160, 0.08);
  --shadow: rgba(192, 88, 160, 0.12);
  --correct: #16A34A;
  --correct-bg: rgba(22, 163, 74, 0.08);
  --incorrect: #DC2626;
  --incorrect-bg: rgba(220, 38, 38, 0.08);
  --p1: #F3B7E4;
  --p2: #F09EE9;
  --p3: #F4C3FB;
  --p4: #E9A8F8;
  --map-bg: #F0D8E8;
}

[data-theme="grape"] {
  --bg: #F5F0FF;
  --surface: #FFFFFF;
  --surface-hover: #FAF7FF;
  --text: #1E1533;
  --text-secondary: #504060;
  --text-muted: #9080A0;
  --border: #E0D5F0;
  --accent: #8A68D8;
  --accent-hover: #7A58C8;
  --accent-light: rgba(138, 104, 216, 0.08);
  --shadow: rgba(138, 104, 216, 0.12);
  --correct: #16A34A;
  --correct-bg: rgba(22, 163, 74, 0.08);
  --incorrect: #DC2626;
  --incorrect-bg: rgba(220, 38, 38, 0.08);
  --p1: #AC8EF8;
  --p2: #CFACF9;
  --p3: #E7D4FA;
  --p4: #F7E5FD;
  --map-bg: #E0D0F0;
}

[data-theme="light"] {
  --bg: #F8F9FA;
  --surface: #FFFFFF;
  --surface-hover: #F1F3F5;
  --text: #1A2744;
  --text-secondary: #475569;
  --text-muted: #94A3B8;
  --border: #E2E8F0;
  --accent: #3B82F6;
  --accent-hover: #2563EB;
  --accent-light: rgba(59, 130, 246, 0.08);
  --shadow: rgba(59, 130, 246, 0.10);
  --correct: #16A34A;
  --correct-bg: rgba(22, 163, 74, 0.08);
  --incorrect: #DC2626;
  --incorrect-bg: rgba(220, 38, 38, 0.08);
  --p1: #DBEAFE;
  --p2: #BFDBFE;
  --p3: #93C5FD;
  --p4: #60A5FA;
  --map-bg: #D0E0F0;
}

[data-theme="dark"] {
  --bg: #0F1218;
  --surface: #1A1F28;
  --surface-hover: #242A35;
  --text: #ECE8E1;
  --text-secondary: #A0A8B4;
  --text-muted: #6B7484;
  --border: #2A3040;
  --accent: #C8956C;
  --accent-hover: #D4A67D;
  --accent-light: rgba(200, 149, 108, 0.10);
  --shadow: rgba(0, 0, 0, 0.30);
  --correct: #4ADE80;
  --correct-bg: rgba(74, 222, 128, 0.10);
  --incorrect: #F87171;
  --incorrect-bg: rgba(248, 113, 113, 0.10);
  --p1: #C8956C;
  --p2: #A08060;
  --p3: #806850;
  --p4: #605040;
  --map-bg: #141820;
}

/* ─── Base ─── */
html { scroll-behavior: smooth; }
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
  overflow-y: scroll;
  transition: background 0.3s ease, color 0.3s ease;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: 700;
}

button, input, select, textarea {
  font-family: inherit;
}

/* ─── Utility shadows ─── */
.shadow-card {
  box-shadow: 0 1px 2px rgba(0,0,0,0.03), 0 4px 16px -4px var(--shadow);
}
.shadow-elevated {
  box-shadow: 0 4px 24px -4px var(--shadow), 0 1px 3px rgba(0,0,0,0.04);
}

/* ─── Scrollbar ─── */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* ─── Animations ─── */
@keyframes pulse-dot {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.5; }
}

/* ─── Leaflet overrides ─── */
.leaflet-control-zoom {
  border: none !important;
  border-radius: 12px !important;
  overflow: hidden;
  box-shadow: 0 2px 8px var(--shadow) !important;
}
.leaflet-control-zoom a {
  background: var(--surface) !important;
  color: var(--text) !important;
  width: 36px !important;
  height: 36px !important;
  line-height: 36px !important;
  font-size: 16px !important;
  border-bottom: 1px solid var(--border) !important;
  transition: background 0.15s !important;
}
.leaflet-control-zoom a:hover {
  background: var(--surface-hover) !important;
}
.leaflet-control-attribution {
  background: var(--surface) !important;
  color: var(--text-muted) !important;
  font-size: 9px !important;
  border-radius: 4px 0 0 0 !important;
  opacity: 0.7;
}
.leaflet-control-attribution a {
  color: var(--accent) !important;
}
.quiz-tooltip {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: 8px !important;
  padding: 3px 8px !important;
  box-shadow: 0 2px 8px var(--shadow) !important;
  font-family: var(--font-body) !important;
  color: var(--text) !important;
}
.quiz-tooltip::before {
  border-top-color: var(--surface) !important;
}
